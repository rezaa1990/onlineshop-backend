{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":34500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":34500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 34500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/l{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Product is not defined Product is not defined","stack":"ReferenceError: Product is not defined\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:31:22)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"result.save is not a function result.save is not a function","stack":"TypeError: result.save is not a function\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:39:43)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:365:14)\n    at param (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:421:3)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:1150:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:271:14)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:39:12)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"level":"error","message":"Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at stringify (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:1150:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:271:14)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.updateProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:40:12)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"codeName":"DuplicateKey","keyPattern":{"price":1},"keyValue":{"price":35500000},"level":"error","message":"Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 } Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }","ok":0,"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: 35500000 }\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:231:30)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)\n    at _write (node:internal/streams/writable:340:10)\n    at Writable.write (node:internal/streams/writable:344:10)\n    at Socket.ondata (node:internal/streams/readable:785:22)\n    at Socket.emit (node:events:514:28)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:34)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:28)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:21:35)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:21:35)"}
{"level":"error","message":"data must be a string or Buffer and salt must either be a salt string or a number of rounds data must be a string or Buffer and salt must either be a salt string or a number of rounds","stack":"Error: data must be a string or Buffer and salt must either be a salt string or a number of rounds\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:144:17)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:29:12\n    at new Promise (<anonymous>)\n    at module.exports.promise (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/promises.js:20:12)\n    at Object.hash (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/bcrypt/bcrypt.js:133:25)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:22:35)"}
{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\"","value":"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"$2b$10$iiK9Qvr/pwV86VH6JpQpseDcu0/gqLOHycW3RWk3xEylDlcwUV5Xe\" (type string) at path \"password\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.set [as password] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/document/compile.js:204:19)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:24:18)"}
{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\"","value":"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"$2b$10$hbIox.B9A0pU3V9YGH6ThOr3SIhc1IoXHCod.PKk8DP77gF/JmyBG\" (type string) at path \"password\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.set [as password] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/document/compile.js:204:19)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:24:18)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:22)\n    at module.exports.deleteProduct (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:46:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/r{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":"3550"},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"3550\" } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"3550\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"3550\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation fail{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"fName":{"kind":"required","message":"Path `fName` is required.","name":"ValidatorError","path":"fName","properties":{"message":"Path `fName` is required.","path":"fName","type":"required"}},"lName":{"kind":"required","message":"Path `lName` is required.","name":"ValidatorError","path":"lName","properties":{"message":"Path `lName` is required.","path":"lName","type":"required"}},"postalCode":{"kind":"required","message":"Path `postalCode` is required.","name":"ValidatorError","path":"postalCode","properties":{"message":"Path `postalCode` is required.","path":"postalCode","type":"required"}}},"level":"error","message":"User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required. User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.","stack":"ValidationError: User validation failed: postalCode: Path `postalCode` is required., lName: Path `lName` is required., fName: Path `fName` is required.\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:2962:17\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/schematype.js:1350:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$Pc.TnfX.Oig0PUzxnOm7wu9BcpWmZXdMESxcgFk.a9NUG6B9xwB/y\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$Pc.TnfX.Oig0PUzxnOm7wu9BcpWmZXdMESxcgFk.a9NUG6B9xwB/y\"","value":"$2b$10$Pc.TnfX.Oig0PUzxnOm7wu9BcpWmZXdMESxcgFk.a9NUG6B9xwB/y","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$Pc.TnfX.Oig0PUzxnOm7wu9BcpWmZXdMESxcgFk.a9NUG6B9xwB/y\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$Pc.TnfX.Oig0PUzxnOm7wu9BcpWmZXdMESxcgFk.a9NUG6B9xwB/y\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"{"_message":"User validation failed","errors":{"password":{"kind":"Number","message":"Cast to Number failed for value \"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe\" (type string) at path \"password\"","name":"CastError","path":"password","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe\"","value":"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe","valueType":"string"}},"level":"error","message":"User validation failed: password: Cast to Number failed for value \"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe\" (type string) at path \"password\" User validation failed: password: Cast to Number failed for value \"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe\" (type string) at path \"password\"","stack":"ValidationError: User validation failed: password: Cast to Number failed for value \"$2b$10$RYZzFOLO4kbhNha7zEluOuLUipuduF/JAFdmjzAvsxaSSvYEx/KYe\" (type string) at path \"password\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.set [as password] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/document/compile.js:204:19)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:24:18)"}
{"level":"error","message":"Operation `users.findOne()` buffering timed out after 10000ms Operation `users.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:175:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":"۵۴۷۴۷۵"},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"۵۴۷۴۷۵\" } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"۵۴۷۴۷۵\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"۵۴۷۴۷۵\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_{"code":11000,"index":0,"keyPattern":{"price":1},"keyValue":{"price":"tyj"},"level":"error","message":"E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"tyj\" } E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"tyj\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.products index: price_1 dup key: { price: \"tyj\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:284:15"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:3{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\" Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"\n    at model.Query.exec (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/query.js:4921:21)\n    at Query.then (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/query.js:5020:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"undefined\"","value":"undefined","valueType":"string"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/respon{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'push') Cannot read properties of undefined (reading 'push')","stack":"TypeError: Cannot read properties of undefined (reading 'push')\n    at module.exports.updateUser (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:17:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:405:5)\n    at ServerResponse.setHeader (node:_http_outgoing:652:11)\n    at ServerResponse.header (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/response.js:174:12)\n    at isLoggined (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/middlewares/auth.js:17:21)\n    at Layer.handle [as handle_request] (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:328:13)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:346:12)\n    at next (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"basketIdId is not defined basketIdId is not defined","stack":"ReferenceError: basketIdId is not defined\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:26:59\n    at Array.filter (<anonymous>)\n    at methods.<computed> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/types/array/methods/index.js:1012:24)\n    at module.exports.removeFromBasket (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:26:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filter') Cannot read properties of undefined (reading 'filter')","stack":"TypeError: Cannot read properties of undefined (reading 'filter')\n    at module.exports.removeFromBasket (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:26:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"debug is not defined debug is not defined","stack":"ReferenceError: debug is not defined\n    at module.exports.removeFromBasket (/media/reza/3210CC3510CC0239/linux files/node_j{"level":"error","message":"Cannot read properties of undefined (reading 'filter') Cannot read properties of undefined (reading 'filter')","stack":"TypeError: Cannot read properties of undefined (reading 'filter')\n    at module.exports.removeFromBasket (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:27:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"updatedBasket is not defined updatedBasket is not defined","stack":"ReferenceError: updatedBasket is not defined\n    at module.exports.removeFromBasket (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:27:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"user.basket is not a function user.basket is not a function","stack":"TypeError: user.basket is not a function\n    at module.exports.updateUser (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"65530a8e908a17cb6fa5b5cb is not a function 65530a8e908a17cb6fa5b5cb is not a function","stack":"TypeError: 65530a8e908a17cb6fa5b5cb is not a function\n    at Proxy.find (<anonymous>)\n    at module.exports.updateUser (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/user/controller.js:16:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"this.Product.numberOfLike is not iterable this.Product.numberOfLike is not iterable","stack":"TypeError: this.Product.numberOfLike is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:50:45)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product.numberOfLikes is not iterable product.numberOfLikes is not iterable","stack":"TypeError: product.numberOfLikes is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:50:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product.numberOfLikes is not iterable product.numberOfLikes is not iterable","stack":"TypeError: product.numberOfLikes is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:51:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"_message":"Product validation failed","errors":{"numberOfLikes.0":{"kind":"[ObjectId]","message":"Cast to [ObjectId] failed for value \"[ '' ]\" (type string) at path \"numberOfLikes.0\" because of \"CastError\"","name":"CastError","path":"numberOfLikes.0","reason":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"\" (type string) at path \"numberOfLikes\" because of \"BSONTypeError\"","name":"CastError","path":"numberOfLikes","reason":{},"stringValue":"\"\"","value":"","valueType":"string"},"stringValue":"\"[ '' ]\"","value":"[ '' ]","valueType":"string"}},"level":"error","message":"Product validation failed: numberOfLikes.0: Cast to [ObjectId] failed for value \"[ '' ]\" (type string) at path \"numberOfLikes.0\" because of \"CastError\" Product validation failed: numberOfLikes.0: Cast to [ObjectId] failed for value \"[ '' ]\" (type string) at path \"numberOfLikes.0\" because of \"CastError\"","stack":"ValidationError: Product validation failed: numberOfLikes.0: Cast to [ObjectId] failed for value \"[ '' ]\" (type string) at path \"numberOfLikes.0\" because of \"CastError\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1{"level":"error","message":"product.numberOfLikes is not iterable product.numberOfLikes is not iterable","stack":"TypeError: product.numberOfLikes is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:51:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product.numberOfLikes is not iterable product.numberOfLikes is not iterable","stack":"TypeError: product.numberOfLikes is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:51:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product.numberOfLikes is not iterable product.numberOfLikes is not iterable","stack":"TypeError: product.numberOfLikes is not iterable\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:51:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"result is not defined result is not defined","stack":"ReferenceError: result is not defined\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:54:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"result is not defined result is not defined","stack":"ReferenceError: result is not defined\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:54:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'status') Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:9)\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:50:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'status') Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at module.exports.response (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/controller.js:36:9)\n    at module.exports.addLike (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:50:72)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\" Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"\n    at model.Query.exec (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/query.js:4921:21)\n    at Query.then (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/query.js:5020:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"undefined\"","value":"undefined","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\" Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"User\"\{"_message":"User validation failed","errors":{"mobile":{"kind":"Number","message":"Cast to Number failed for value \"mobile\" (type string) at path \"mobile\"","name":"CastError","path":"mobile","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"mobile\"","value":"mobile","valueType":"string"},"postalCode":{"kind":"Number","message":"Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"","name":"CastError","path":"postalCode","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"postalcode\"","value":"postalcode","valueType":"string"}},"level":"error","message":"User validation failed: mobile: Cast to Number failed for value \"mobile\" (type string) at path \"mobile\", postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\" User validation failed: mobile: Cast to Number failed for value \"mobile\" (type string) at path \"mobile\", postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"","stack":"ValidationError: User validation failed: mobile: Cast to Number failed for value \"mobile\" (type string) at path \"mobile\", postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1149:16)\n    at model.Document (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:164:12)\n    at model.Model (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:123:12)\n    at new model (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:5186:15)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:12)"}
{"_message":"User validation failed","errors":{"postalCode":{"kind":"Number","message":"Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"","name":"CastError","path":"postalCode","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"postalcode\"","value":"postalcode","valueType":"string"}},"level":"error","message":"User validation failed: postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\" User validation failed: postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"","stack":"ValidationError: User validation failed: postalCode: Cast to Number failed for value \"postalcode\" (type string) at path \"postalCode\"\n    at Document.invalidate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:3174:32)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1466:12)\n    at model.$set (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:1149:16)\n    at model.Document (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/document.js:164:12)\n    at model.Model (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:123:12)\n    at new model (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:5186:15)\n    at module.exports.register (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/auth/controller.js:23:12)"}
{"level":"error","message":"product.comments is not iterable product.comments is not iterable","stack":"TypeError: product.co{"level":"error","message":"product.comments is not iterable product.comments is not iterable","stack":"TypeError: product.comments is not iterable\n    at module.exports.addComment (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:64:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product.comments is not iterable product.comments is not iterable","stack":"TypeError: product.comments is not iterable\n    at module.exports.addComment (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:64:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"newComments is not defined newComments is not defined","stack":"ReferenceError: newComments is not defined\n    at module.exports.addComment (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:64:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"newComments is not defined newComments is not defined","stack":"ReferenceError: newComments is not defined\n    at module.exports.addComment (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:64:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot populate path `author` because it is not in your schema. Set the `strictPopulate` option to false to override. Cannot populate path `author` because it is not in your schema. Set the `strictPopulate` option to false to override.","path":"author","stack":"StrictPopulateError: Cannot populate path `author` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:48:12)\n    at populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4825:21)\n    at _populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4785:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4762:5\n    at promiseOrCallback (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/promiseOrCallback.js:11:14)\n    at Mongoose._promiseOrCallback (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/index.js:1290:10)\n    at Model.populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4760:23)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/query.js:2320:19\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/query/completeMany.js:37:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Schema hasn't been registered for model \"Comment\".\nUse mongoose.model(name, schema) Schema hasn't been registered for model \"Comment\".\nUse mongoose.model(name, schema)","stack":"MissingSchemaError: Schema hasn't been registered for model \"Comment\".\nUse mongoose.model(name, schema)\n    at Connection.model (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/connection.js:1247:13)\n    at _getModelFromConn (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:580:15)\n    at addModelNamesToMap (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:508:17)\n    at getModelsMapForPopulate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:198:7)\n    at populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4825:21)\n    at _populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4785:5)\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4762:5\n    at promiseOrCallback (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/helpers/promiseOrCallback.js:11:14)\n    at Mongoose._promiseOrCallback (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/index.js:1290:10)\n    at Model.populate (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:4760:23)"}
{"level":"error","message":"No matching document found for id \"655dd0f8eebc6c824ce2ad31\" version 8 modifiedPaths \"comments\" No matching document found for id \"655dd0f8eebc6c824ce2ad31\" version 8 modifiedPaths \"comments\"","modifiedPaths":["comments"],"stack":"VersionError: No matching document found for id \"655dd0f8eebc6c824ce2ad31\" version 8 modifiedPaths \"comments\"\n    at generateVersionError (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:462:10)\n    at Model.save (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/model.js:521:28)\n    at module.exports.addComment (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/products/controller.js:66:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","version":8}
{"code":11000,"index":0,"keyPattern":{"mobile":1},"keyValue":{"mobile":0},"level":"error","message":"E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 } E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"mobile":1},"keyValue":{"mobile":0},"level":"error","message":"E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 } E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.users index: mobile_1 dup key: { mobile: 0 }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at module.exports.addMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/message/controller.js:20:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at module.exports.addMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/message/controller.js:20:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"product is not defined product is not defined","stack":"ReferenceError: product is not defined\n    at module.exports.addMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/src/routes/message/controller.js:20:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Operation `users.findOne()` buffering timed out after 10000ms Operation `users.findOne()` buffering timed out after 10000ms","stack":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:175:23)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)"}
{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"4"},"level":"error","message":"E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" } E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"4"},"level":"error","message":"E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" } E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage ({"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"4"},"level":"error","message":"E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" } E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"4\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"232323323"},"level":"error","message":"E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" } E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"232323323"},"level":"error","message":"E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" } E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" }","stack":"MongoServerError: E11000 duplicate key error collection: shopproject.orders index: email_1 dup key: { email: \"232323323\" }\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:210:17\n    at handleOperationResult (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/sdam/server.js:326:20)\n    at Connection.onMessage (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:243:9)\n    at MessageStream.<anonymous> (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:514:28)\n    at processIncomingData (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/media/reza/3210CC3510CC0239/linux files/node_js/node-shop/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:399:12)"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/uploads/m1.jpeg' ENOENT: no such file or directory, open '/uploads/m1.jpeg'","path":"/uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open '/uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/uploads/m1.jpeg' ENOENT: no such file or directory, open '/uploads/m1.jpeg'","path":"/uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open '/uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/uploads/m1.jpeg' ENOENT: no such file or directory, open '/uploads/m1.jpeg'","path":"/uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open '/uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'uploads/m1.jpeg' ENOENT: no such file or directory, open 'uploads/m1.jpeg'","path":"uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open 'home/reza/Desktop/node-shop/src/routes/image/uploads/m1.jpeg' ENOENT: no such file or directory, open 'home/reza/Desktop/node-shop/src/routes/image/uploads/m1.jpeg'","path":"home/reza/Desktop/node-shop/src/routes/image/uploads/m1.jpeg","stack":"Error: ENOENT: no such file or directory, open 'home/reza/Desktop/node-shop/src/routes/image/uploads/m1.jpeg'","storageErrors":[],"syscall":"open"}
{"level":"error","message":"YourModel is not defined YourModel is not defined","stack":"ReferenceError: YourModel is not defined\n    at fileFilter (/home/reza/Desktop/node-shop/src/routes/image/index.js:19:5)\n    at wrappedFileFilter (/home/reza/Desktop/node-shop/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/home/reza/Desktop/node-shop/node_modules/multer/lib/make-middleware.js:107:7)\n    at Multipart.emit (node:events:514:28)\n    at HeaderParser.cb (/home/reza/Desktop/node-shop/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/home/reza/Desktop/node-shop/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/home/reza/Desktop/node-shop/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/home/reza/Desktop/node-shop/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/home/reza/Desktop/node-shop/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/home/reza/Desktop/node-shop/node_modules/busboy/lib/types/multipart.js:567:19)"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg' ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","path":"/home/Desktop/bootstrap-shop/src/images/slid11.jpeg","stack":"Error: ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg' ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","path":"/home/Desktop/bootstrap-shop/src/images/slid11.jpeg","stack":"Error: ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","storageErrors":[],"syscall":"open"}
{"code":"ENOENT","errno":-2,"level":"error","message":"ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg' ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","path":"/home/Desktop/bootstrap-shop/src/images/slid11.jpeg","stack":"Error: ENOENT: no such file or directory, open '/home/Desktop/bootstrap-shop/src/images/slid11.jpeg'","storageErrors":[],"syscall":"open"}
{"level":"error","message":"resetCode is not defined resetCode is not defined","stack":"ReferenceError: resetCode is not defined\n    at module.exports.resetPassword (/home/reza/Desktop/node-shop/src/routes/auth/controller.js:87:52)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
